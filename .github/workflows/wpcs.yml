name: Compare changes on pull request

on:
  pull_request:
    types: [opened, synchronize, reopened]

jobs:
  compare_changes:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v2

      - name: Create temporary branch
        run: |
          git fetch origin ${{ github.event.pull_request.head.ref }}
          git checkout -b temp_branch FETCH_HEAD

      - name: Compare changes
        run: |
          changed_files=$(git diff --name-only dev temp_branch)
          echo "Changed files: $changed_files"

      - name: Delete temporary branch
        run: |
          git checkout dev
          git branch -D temp_branch
